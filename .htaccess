# MyUSAPassport - .htaccess (OSPanel-safe)

RewriteEngine On
RewriteBase /

# Кастомная 404 через роутер
ErrorDocument 404 /index.php?route=404

# Если файл или папка существуют — отдать напрямую
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Всё остальное — в index.php
RewriteRule ^ index.php [L]

# Запрет доступа к .htaccess
<Files ".htaccess">
    Require all denied
</Files>

# Запрет доступа к чувствительным файлам
<FilesMatch "\.(log|sql|md|txt)$">
    Require all denied
</FilesMatch>
